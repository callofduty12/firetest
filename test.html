<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://www.gstatic.com/firebasejs/9.2.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.2.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.2.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.2.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.2.0/firebase-storage.js"></script>
    <title>Firebase Permissions Check</title>
</head>
<body>

<script>
    var firebaseConfig = {
        apiKey: "AIzaSyDRo33cwg4KXS6KK2ibsZ4_40_3fsWGCeE",
        authDomain: "bykea-145712.firebaseapp.com",
        projectId: "bykea-145712",
        storageBucket: "bykea-145712.appspot.com",
        messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
        appId: "YOUR_APP_ID"
    };

    firebase.initializeApp(firebaseConfig);

    // Firebase Authentication
    firebase.auth().signInAnonymously()
        .then(function (userCredential) {
            var user = userCredential.user;
            console.log("Authentication Successful:", user);
        })
        .catch(function (error) {
            console.log("Authentication Failed:", error);
        });

    // Firebase Firestore
    var firestore = firebase.firestore();
    firestore.collection("test").doc("testdoc").set({ data: "Firestore Write Test" })
        .then(function () {
            console.log("Firestore Write Successful");
        })
        .catch(function (error) {
            console.log("Firestore Write Failed:", error);
        });

    firestore.collection("test").doc("testdoc").get()
        .then(function (doc) {
            console.log("Firestore Read Successful:", doc.data());
        })
        .catch(function (error) {
            console.log("Firestore Read Failed:", error);
        });

    // Firebase Realtime Database
    var database = firebase.database();
    database.ref("/test").set({ data: "Realtime Database Write Test" })
        .then(function () {
            console.log("Realtime Database Write Successful");
        })
        .catch(function (error) {
            console.log("Realtime Database Write Failed:", error);
        });

    database.ref("/test").once("value")
        .then(function (snapshot) {
            console.log("Realtime Database Read Successful:", snapshot.val());
        })
        .catch(function (error) {
            console.log("Realtime Database Read Failed:", error);
        });

    // Firebase Storage
    var storage = firebase.storage();
    var storageRef = storage.ref("test/testfile.txt");
    var fileContent = "Firebase Storage Write Test";

    storageRef.putString(fileContent)
        .then(function (snapshot) {
            console.log("Storage Write Successful");
        })
        .catch(function (error) {
            console.log("Storage Write Failed:", error);
        });

    storageRef.getDownloadURL()
        .then(function (url) {
            console.log("Storage Read Successful. Download URL:", url);
        })
        .catch(function (error) {
            console.log("Storage Read Failed:", error);
        });

</script>

</body>
</html>
